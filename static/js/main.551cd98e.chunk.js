(this.webpackJsonpnearme=this.webpackJsonpnearme||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(24)},,,,,,function(e,t,a){},function(e,t,a){},,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),i=(a(16),a(1)),s=a(2),l=a(4),u=a(3),h=a(6),p=a(5);a(17);a(18).config();var d={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/nearme",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).GOOGLEPLACESAPIKEY,weatherAPIKey:Object({NODE_ENV:"production",PUBLIC_URL:"/nearme",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).OPENWEATHERAPIKEY,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/nearme",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).APPID,appCode:Object({NODE_ENV:"production",PUBLIC_URL:"/nearme",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).APPCODE,locationiqKey:Object({NODE_ENV:"production",PUBLIC_URL:"/nearme",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).LOCATIONIQKEY,pixabayKey:Object({NODE_ENV:"production",PUBLIC_URL:"/nearme",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).PIXABAYKEY},m=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"isOpen",value:function(e){return e?"unknown"===e?r.a.createElement("span",{className:"unknown"},"Unknown"):r.a.createElement("span",{className:"open"},"Open"):r.a.createElement("span",null,"Closed")}},{key:"render",value:function(){var e=d.placesAPIKey,t=this.props.result,a=t.opening_hours?t.opening_hours.open_now:"unknown",n=!!t.photos&&t.photos[0].photo_reference;n&&"url(https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=".concat(n,"&key=").concat(e,")");return r.a.createElement("div",null,r.a.createElement("a",{className:"card"},r.a.createElement("div",{className:"thumb",style:{backgroundImage:"url(https://picsum.photos/400.jpg)"}}),r.a.createElement("article",null,r.a.createElement("h1",null,t.name),t.formatted_address,r.a.createElement("br",null),this.isOpen(a))))}}]),t}(r.a.Component);m.defaultProps={isOpen:"Unknown",hours:"No business hours information available."};a(21);var O=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"generateIcon",value:function(e){return"https://openweathermap.org/img/wn/".concat(e,".png")}},{key:"generateForecast",value:function(e){return"Expect ".concat(e.description," and temperatures of ").concat(Math.round(e.temperature-273),"\xb0C with a ").concat(Math.round(e.feel-273),"\xb0C real feel")}},{key:"render",value:function(){return r.a.createElement("div",{className:"featured-item"},r.a.createElement("div",{className:"weathercard"},r.a.createElement("div",{className:"icon"},r.a.createElement("img",{src:this.generateIcon(this.props.weatherForecast.icon),className:"iconimg",alt:""})),r.a.createElement("h1",null,this.generateForecast(this.props.weatherForecast))))}}]),t}(n.Component),E=(a(22),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"renderWeather",value:function(){return this.props.weatherForecast.hasOwnProperty("condition")?r.a.createElement(O,{weatherForecast:this.props.weatherForecast}):""}},{key:"renderPOI",value:function(){return this.props.searchResults.map((function(e){return r.a.createElement(m,{key:"poi_"+e.id,result:e})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"productlistarea"},this.renderWeather(),this.renderPOI())}}]),t}(r.a.Component)),f=(a(23),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={term:"",location:""},a.handleTermChange=a.handleTermChange.bind(Object(h.a)(a)),a.handleLocationChange=a.handleLocationChange.bind(Object(h.a)(a)),a.handleClick=a.handleClick.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleClick",value:function(e){this.props.onSearch(this.state.term,this.state.location)}},{key:"handleTermChange",value:function(e){this.setState({term:e.target.value})}},{key:"handleLocationChange",value:function(e){this.setState({location:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:"SearchBar"},r.a.createElement("div",{className:"SearchBar-fields"},r.a.createElement("input",{placeholder:"What are you looking for?",className:"field",onChange:this.handleTermChange}),r.a.createElement("input",{placeholder:"Where?",className:"field",style:{width:"30%"},onChange:this.handleLocationChange})),r.a.createElement("div",{className:"SearchBar-submit"},r.a.createElement("a",{onClick:this.handleClick},"Find")))}}]),t}(r.a.Component)),v="https://cors-anywhere.herokuapp.com/",_=function(e,t){var a;a=e&&t?e+" "+t:e;var n="".concat(v,"https://pumbar0ym5.execute-api.us-east-1.amazonaws.com/default/React_Middle_Man");return fetch(n,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({term:a,service:"places"})}).then((function(e){return e.json()})).then((function(e){return e.results}))},S=function(e){var t="".concat(v,"https://pumbar0ym5.execute-api.us-east-1.amazonaws.com/default/React_Middle_Man");return fetch(t,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({place:e,service:"weather"})}).then((function(e){return e.json()})).then((function(e){return e.hasOwnProperty("main")?{temperature:e.main.temp,feel:e.main.feels_like,condition:e.weather[0].main,description:e.weather[0].description,icon:e.weather[0].icon}:{error:e.message}}))},C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={mapImage:"",poiList:[],weather:{}},a.search=a.search.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"search",value:function(e,t){var a=this;_(e,t).then((function(e){return a.setState({poiList:e})})),S(t).then((function(e){return a.setState({weather:e})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f,{onSearch:this.search}),r.a.createElement(E,{searchResults:this.state.poiList,weatherForecast:this.state.weather}))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[10,1,2]]]);
//# sourceMappingURL=main.551cd98e.chunk.js.map